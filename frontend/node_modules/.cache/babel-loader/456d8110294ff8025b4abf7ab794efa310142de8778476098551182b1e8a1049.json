{"ast":null,"code":"var _jsxFileName = \"D:\\\\Projects\\\\InvertedIndexSearch\\\\frontend\\\\src\\\\Pages\\\\searchPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport products from \"../Data/data.js\";\nimport \"../Styles/searchPage.css\";\n\n// BTree class to store products by ID\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass BTree {\n  constructor() {\n    this.products = new Map();\n  }\n  insert(key, product) {\n    this.products.set(key, product);\n  }\n  search(key) {\n    return this.products.get(key);\n  }\n}\n\n// InvertedIndex class to map keywords to product IDs\nclass InvertedIndex {\n  constructor() {\n    this.index = new Map();\n  }\n  add(term, productId) {\n    if (!this.index.has(term)) {\n      this.index.set(term, new Set());\n    }\n    this.index.get(term).add(productId);\n  }\n  search(term) {\n    return this.index.get(term) || new Set();\n  }\n}\n\n// HybridIndex class that combines BTree and InvertedIndex\nclass HybridIndex {\n  constructor() {\n    this.bTree = new BTree();\n    this.invertedIndex = new InvertedIndex();\n  }\n  addProduct(product) {\n    // Add product to B-Tree by ID\n    this.bTree.insert(product.id, product);\n\n    // Add product to Inverted Index using keywords\n    product.keywords.forEach(keyword => {\n      this.invertedIndex.add(keyword.toLowerCase(), product.id);\n    });\n  }\n  search(query) {\n    const keywords = query.toLowerCase().split(\" \").filter(Boolean);\n    const resultIds = new Set();\n    keywords.forEach(keyword => {\n      const ids = this.invertedIndex.search(keyword);\n      ids.forEach(id => resultIds.add(id));\n    });\n    return Array.from(resultIds).map(id => this.bTree.search(id));\n  }\n}\n\n// Initialize HybridIndex once outside the component\nconst hybridIndex = new HybridIndex();\nproducts.forEach(product => hybridIndex.addProduct(product));\nconst ProductSearch = () => {\n  _s();\n  const [query, setQuery] = useState(\"\");\n  const [results, setResults] = useState([]);\n\n  // Handle search input and results\n  const searchProduct = event => {\n    const inputValue = event.target.value;\n    setQuery(inputValue);\n    const searchResults = hybridIndex.search(inputValue);\n    setResults(searchResults);\n  };\n  const handleClear = () => {\n    setQuery(\"\");\n    setResults([]);\n  };\n  const handleSubmit = event => {\n    event.preventDefault(); // Prevent page reload\n    const searchResults = hybridIndex.search(query);\n    setResults(searchResults);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-gray-100 h-screen flex justify-center items-center px-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white shadow-md rounded-lg p-6 w-full max-w-3xl\",\n      children: [/*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"w-full px-4 py-3 rounded-md border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:outline-none shadow-sm transition-all duration-200\",\n            value: query,\n            onChange: searchProduct,\n            placeholder: \"Search for products...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"absolute right-2 top-2 bottom-2 bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-md focus:outline-none transition-all duration-200\",\n            children: \"Search\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold py-2 px-4 rounded-md focus:outline-none transition-all duration-200\",\n          onClick: handleClear,\n          children: \"Clear\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-6 space-y-4\",\n        children: results.length > 0 ? results.map(product => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-4 bg-white border border-gray-200 rounded-md shadow-sm\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold text-gray-900\",\n            children: product.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-600 mt-1\",\n            children: [\"Category: \", product.category]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-500 mt-1\",\n            children: product.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 17\n          }, this)]\n        }, product.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 15\n        }, this)) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center text-gray-500\",\n          children: \"No products found. Try a different search term.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 96,\n    columnNumber: 5\n  }, this);\n};\n_s(ProductSearch, \"Grp0ouI1isRc8g0LMx1FfgxNSWM=\");\n_c = ProductSearch;\nexport default ProductSearch;\nvar _c;\n$RefreshReg$(_c, \"ProductSearch\");","map":{"version":3,"names":["React","useState","products","jsxDEV","_jsxDEV","BTree","constructor","Map","insert","key","product","set","search","get","InvertedIndex","index","add","term","productId","has","Set","HybridIndex","bTree","invertedIndex","addProduct","id","keywords","forEach","keyword","toLowerCase","query","split","filter","Boolean","resultIds","ids","Array","from","map","hybridIndex","ProductSearch","_s","setQuery","results","setResults","searchProduct","event","inputValue","target","value","searchResults","handleClear","handleSubmit","preventDefault","className","children","onSubmit","type","onChange","placeholder","fileName","_jsxFileName","lineNumber","columnNumber","onClick","length","name","category","description","_c","$RefreshReg$"],"sources":["D:/Projects/InvertedIndexSearch/frontend/src/Pages/searchPage.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport products from \"../Data/data.js\";\r\nimport \"../Styles/searchPage.css\";\r\n\r\n// BTree class to store products by ID\r\nclass BTree {\r\n  constructor() {\r\n    this.products = new Map();\r\n  }\r\n\r\n  insert(key, product) {\r\n    this.products.set(key, product);\r\n  }\r\n\r\n  search(key) {\r\n    return this.products.get(key);\r\n  }\r\n}\r\n\r\n// InvertedIndex class to map keywords to product IDs\r\nclass InvertedIndex {\r\n  constructor() {\r\n    this.index = new Map();\r\n  }\r\n\r\n  add(term, productId) {\r\n    if (!this.index.has(term)) {\r\n      this.index.set(term, new Set());\r\n    }\r\n    this.index.get(term).add(productId);\r\n  }\r\n\r\n  search(term) {\r\n    return this.index.get(term) || new Set();\r\n  }\r\n}\r\n\r\n// HybridIndex class that combines BTree and InvertedIndex\r\nclass HybridIndex {\r\n  constructor() {\r\n    this.bTree = new BTree();\r\n    this.invertedIndex = new InvertedIndex();\r\n  }\r\n\r\n  addProduct(product) {\r\n    // Add product to B-Tree by ID\r\n    this.bTree.insert(product.id, product);\r\n\r\n    // Add product to Inverted Index using keywords\r\n    product.keywords.forEach((keyword) => {\r\n      this.invertedIndex.add(keyword.toLowerCase(), product.id);\r\n    });\r\n  }\r\n\r\n  search(query) {\r\n    const keywords = query.toLowerCase().split(\" \").filter(Boolean);\r\n    const resultIds = new Set();\r\n\r\n    keywords.forEach((keyword) => {\r\n      const ids = this.invertedIndex.search(keyword);\r\n      ids.forEach((id) => resultIds.add(id));\r\n    });\r\n\r\n    return Array.from(resultIds).map((id) => this.bTree.search(id));\r\n  }\r\n}\r\n\r\n// Initialize HybridIndex once outside the component\r\nconst hybridIndex = new HybridIndex();\r\nproducts.forEach((product) => hybridIndex.addProduct(product));\r\n\r\nconst ProductSearch = () => {\r\n  const [query, setQuery] = useState(\"\");\r\n  const [results, setResults] = useState([]);\r\n\r\n  // Handle search input and results\r\n  const searchProduct = (event) => {\r\n    const inputValue = event.target.value;\r\n    setQuery(inputValue);\r\n    const searchResults = hybridIndex.search(inputValue);\r\n    setResults(searchResults);\r\n  };\r\n\r\n  const handleClear = () => {\r\n    setQuery(\"\");\r\n    setResults([]);\r\n  };\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault(); // Prevent page reload\r\n    const searchResults = hybridIndex.search(query);\r\n    setResults(searchResults);\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-gray-100 h-screen flex justify-center items-center px-4\">\r\n      <div className=\"bg-white shadow-md rounded-lg p-6 w-full max-w-3xl\">\r\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n          <div className=\"relative\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"w-full px-4 py-3 rounded-md border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:outline-none shadow-sm transition-all duration-200\"\r\n              value={query}\r\n              onChange={searchProduct}\r\n              placeholder=\"Search for products...\"\r\n            />\r\n            <button\r\n              type=\"submit\"\r\n              className=\"absolute right-2 top-2 bottom-2 bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-md focus:outline-none transition-all duration-200\"\r\n            >\r\n              Search\r\n            </button>\r\n          </div>\r\n          <button\r\n            type=\"button\"\r\n            className=\"bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold py-2 px-4 rounded-md focus:outline-none transition-all duration-200\"\r\n            onClick={handleClear}\r\n          >\r\n            Clear\r\n          </button>\r\n        </form>\r\n\r\n        <div className=\"mt-6 space-y-4\">\r\n          {results.length > 0 ? (\r\n            results.map((product) => (\r\n              <div\r\n                key={product.id}\r\n                className=\"p-4 bg-white border border-gray-200 rounded-md shadow-sm\"\r\n              >\r\n                <h3 className=\"text-lg font-semibold text-gray-900\">\r\n                  {product.name}\r\n                </h3>\r\n                <p className=\"text-gray-600 mt-1\">\r\n                  Category: {product.category}\r\n                </p>\r\n                <p className=\"text-gray-500 mt-1\">{product.description}</p>\r\n              </div>\r\n            ))\r\n          ) : (\r\n            <div className=\"text-center text-gray-500\">\r\n              No products found. Try a different search term.\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductSearch;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}